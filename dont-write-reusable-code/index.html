<!DOCTYPE html>
<html>
    <head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
  <meta name="robots" content="index, follow">
  <!-- title -->
  
    
  <title>Don&#39;t Write Reusable Code - 橙子陈绩好</title>
    
  
  
  <meta name="description" content="不少开发者在写代码时，都追求代码的复用，很多设计原则也是这么告诉我们的。我之前也对这些原则如数家珍，觉得一定要遵循，直到我读到 Don’t write reusable code，作者在文章中说，可重用代码不是目的，而是为了解决特定问题编写的简洁代码的副产品。">
<meta property="og:type" content="article">
<meta property="og:title" content="Don&#39;t Write Reusable Code">
<meta property="og:url" content="https://hicsc.com/dont-write-reusable-code/index.html">
<meta property="og:site_name" content="橙子陈绩好">
<meta property="og:description" content="不少开发者在写代码时，都追求代码的复用，很多设计原则也是这么告诉我们的。我之前也对这些原则如数家珍，觉得一定要遵循，直到我读到 Don’t write reusable code，作者在文章中说，可重用代码不是目的，而是为了解决特定问题编写的简洁代码的副产品。">
<meta property="og:locale">
<meta property="article:published_time" content="2022-09-15T12:11:00.000Z">
<meta property="article:modified_time" content="2024-04-03T11:54:49.223Z">
<meta property="article:author" content="Skye">
<meta property="article:tag" content="JVM,Java,后端,数据库,MongoDB,MySQL,业务流程,流程自动化,业财一体化,团队管理,读万卷书,行万里路,生活漫记,旅行游记,生活片段">
<meta name="twitter:card" content="summary">
  
  <link rel="canonical" href="https://hicsc.com/dont-write-reusable-code/">
  

  <!-- Favicon -->
  <link rel="shortcut icon" href="https://graph.hicsc.com/orange/logo-medium.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://graph.hicsc.com/orange/logo-medium.png">

  <!-- CSS -->
  
<link rel="stylesheet" href="/css/reset.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/markdown.css">

  <!--   
<link rel="stylesheet" href="/css/proxima.css">
 -->
  <link rel="stylesheet" href="https://graph.hicsc.com/fonts/ProximaSoft/proxima.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="橙子陈绩好" type="application/atom+xml">
</head>

    <body>
        <div class="paper">
            <div class="paper-main">
                
                <div class="post-main">
    
        <div class="post-main-title">
            Don&#39;t Write Reusable Code
        </div>
        <div class="post-meta">
            2022-09-15 ｜ 
            
                
                    <a href="/knowledge/"><i class="fas fa-hashtag"></i> 知识 </a>
                 ｜ 
            
            <a href="/"><i class="fas fa-arrow-circle-left"></i> 回到首页</a> ｜
            <i class="fas fa-fire-alt" title=本文访问量></i> <span id="busuanzi_value_page_pv" title="本文访问量"></span>
        </div>
        <div class="post-md">
            <p>不少开发者在写代码时，都追求代码的复用，很多设计原则也是这么告诉我们的。我之前也对这些原则如数家珍，觉得一定要遵循，直到我读到 <a target="_blank" rel="noopener" href="https://medium.com/@scott.boring.sb/dont-write-reusable-code-a857e925b683">Don’t write reusable code</a>，作者在文章中说，可重用代码不是目的，而是为了解决特定问题编写的简洁代码的副产品。</p>
<span id="more"></span>
<p>为了证明这一观点，作者提供了如下论据：</p>
<ul>
<li>没有明确的实践或是指导原则来告诉你应该如何编写可复用的代码，DRY原则不算，你仔细想想应该能明白，毕竟重复和复用是两个不同的概念；</li>
<li>编写为可复用代码通常会假设未来会遇到这样的问题，并提出很多假设，而为了实现这些假设，又增加了很多配置，这些方法都是反模式；</li>
<li>假定未来会使用就是一个伪命题，如果你看公司1年之前的代码，你会发现不少dead code和再也不会使用的配置；</li>
<li>一段好代码通常只会用来解决一个小的且明确定义的问题，这个问题越小，定义越明确越好</li>
<li>代码复用的唯一条件就是问题重复发生，当问题发生，这些代码可以解决这个问题，如果这个问题不发生，也没必要花精力在可复用上</li>
</ul>
<p>总结起来一句话，开发者只需要把精力放在如何编写简洁明了的代码去解决那些特定的问题即可，如果这些问题在未来真的发生了，可复用代码自然而然就出现了。如果你还不死心，这里有一个关于Spring Framework的统计，下面是前10个复用率最高的类：</p>
<pre><code>1,279 Assert.java  
491 StringUtils.java  
403 Log.java  
365 LogFactory.java  
289 ObjectUtils.java  
299 ClassUtils.java  
252 HttpHeaders.java  
222 CollectionUtils.java  
204 MethodParameter.java  
197 MediaType.java
</code></pre>
<p>这里面的每个类都只解决了一个小而具体的问题，这些类有一些共同的特征：</p>
<ul>
<li>大多数构造函数和方法都很简单，只接受一个或更少的参数。</li>
<li>这些类都没有对 Spring Framework 的未来做出假设</li>
<li>这些类都不是可配置的</li>
<li>每个类都解决了在整个代码库中重复出现的问题</li>
</ul>

        </div>
    
<!-- tags -->

<div class="post-back">
    <a href="/"><i class="fas fa-arrow-circle-left"></i> 回到首页</a>
</div>
</div>
                <div class="footer">
    <div>
        ©2022 - 2024  <a href="/links" title="关于我" style="text-decoration: none;"> 橙子陈绩好.</a> ALL RIGHTS RESERVED
        <a href="https://twitter.com/Yanxiaoyanx" title="在Twitter上关注我" style="text-decoration: none;" target="_blank">
		    <i class="fab fa-twitter"></i>
		</a>
		<a href="https://weibo.com/luecsc" title="在微博上关注我" style="text-decoration: none;" target="_blank">
		    <i class="fab fa-weibo"></i>
		</a>
		<a href="mailto:yanxiaoyanx@gmail.com" title="发邮件给我">
		    <i class="fas fa-at"></i>
		</a>
		<a href="/atom.xml" title="订阅RSS">
            <i class="fas fa-rss"></i>
        </a>
		<a href="/archives" title="全部文章列表">
            <i class="fas fa-archive"></i>
        </a>&nbsp;
        <i class="fas fa-chart-line" title=本站访问次数统计></i> <span id="busuanzi_value_site_pv" title="本站访问次数统计"></span>
    </div>
    <div>
        <a target="_blank" rel="noopener" href="https://hexo.io">POWERED BY HEXO</a> |
        <a href="/theme-of-hicsc/">DESIGNED BY SKYE</a> |
        <a href="https://beian.miit.gov.cn" title="工信部域名备案查询" target="_blank">
		    蜀ICP备2022026154号-1
		</a> |
		<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=51012202000545" title="工信部域名备案查询" target="_blank">
			川公网安备51012202000545号
		</a>
    </div>
</div>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/xcode.min.css">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
            </div>
        </div>
    </body>
</html>